(this["webpackJsonpacala-take-home"]=this["webpackJsonpacala-take-home"]||[]).push([[0],{111:function(n,e,t){},119:function(n,e){},129:function(n,e){},152:function(n,e,t){"use strict";t.r(e);var r,c,i,a,o,u,s,d,l,b,p,f,j,x,O=t(11),h=t.n(O),m=t(77),g=t.n(m),v=(t(111),t(17)),w=t(10),y=t.n(w),k=t(13),E=t(1),C=t(15),S=t(91),N=t(16),I=t(171),F=t(170),z=t(78),q=t.n(z),A=Object(N.a)("button")(r||(r=Object(C.a)(["\n  padding: ",";\n  color: ",";\n  margin: ",";\n  font-size: ",";\n  background-color: ",";\n  border: ",";\n  border-radius: ",";\n  font-weight: ",";\n  font-style: ",";\n  font-family: ",";\n  font-size: ",";\n  cursor: ",";\n"])),(function(n){return n.padding||"10px"}),(function(n){return n.color||"black"}),(function(n){return n.margin||"4px"}),(function(n){return n.fontSize||"12px"}),(function(n){return n.backgroundColor||"transparent"}),(function(n){return n.border||"none"}),(function(n){return n.borderRadius||"0px"}),(function(n){return n.fontWeight||"normal"}),(function(n){return n.fontStyle||"normal"}),(function(n){return n.fontFamily||"sans-serif"}),(function(n){return n.fontSize||"14px"}),(function(n){return n.cursor||"pointer"})),B=Object(N.a)("input")(c||(c=Object(C.a)(["\n  width: ",";\n  padding: ",";\n  font-size: ",";\n  font-weight: ",";\n  font-family: ",";\n  color: ",";\n  border: ",";\n  border-radius: ",";\n  margin: ",";\n"])),(function(n){return n.width||"200px"}),(function(n){return n.padding||"8px"}),(function(n){return n.fontSize||"12px"}),(function(n){return n.fontWeight||"normal"}),(function(n){return n.fontFamily||"sans-serif"}),(function(n){return n.color||"black"}),(function(n){return n.border||"1px solid #000"}),(function(n){return n.borderRadius||"0px"}),(function(n){return n.margin||"0px"})),T=Object(N.b)(i||(i=Object(C.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n"]))),D=(Object(N.a)("div")(a||(a=Object(C.a)(["\n  border: 2px solid #f3f3f3;\n  border-top: 2px solid #3498db;\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  animation: "," 2s linear infinite;\n"])),T),Object(N.a)("div")(o||(o=Object(C.a)(["\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\n  transition: 0.3s;\n"])))),P=Object(N.a)("div")(u||(u=Object(C.a)(["\n  display: flex;\n  flex-flow: ",";\n  justify-content: ",";\n  align-items: ",";\n  margin: ",";\n\n  ","\n"])),(function(n){return n.flexFlow||"row wrap"}),(function(n){return n.justifyContent||"center"}),(function(n){return n.alignItems||"center"}),(function(n){return n.margin||"0px"}),(function(n){return!!n.screens&&n.screens.length>0&&n.screens.map((function(n){return"@media screen and (max-width: ".concat(n.size+"px",") ").concat(n.definition)}))})),R=(N.a.div(s||(s=Object(C.a)(["\n  flex: ",";\n"])),(function(n){return n.flex||"0 1"})),Object(N.a)("table")(d||(d=Object(C.a)(["\n  border-collapse: ",";\n  width: ",";\n\n  ","\n"])),(function(n){return n.borderCollapse||"collapse"}),(function(n){return n.width||"100%"}),(function(n){return!!n.screens&&n.screens.length>0&&n.screens.map((function(n){return"@media screen and (max-width: ".concat(n.size+"px",") ").concat(n.definition)}))}))),H=Object(N.a)("th")(l||(l=Object(C.a)(["\n  padding: ",";\n  text-align: ",";\n  border: ",";\n"])),(function(n){return n.padding||"12px"}),(function(n){return n.textAlign||"left"}),(function(n){return n.border||"none"})),_=Object(N.a)("td")(b||(b=Object(C.a)(["\n  padding: ",";\n  text-align: ",";\n  border: ",";\n"])),(function(n){return n.padding||"12px"}),(function(n){return n.textAlign||"left"}),(function(n){return n.border||"none"})),J=Object(N.a)("tr")(p||(p=Object(C.a)(["\n  &:nth-child(even) {\n    background-color: ",";\n  }\n"])),(function(n){return n.stripe||"#f2f2f2"})),W=function(n,e){switch(e.type){case"CHANGE_ENDPOINT":return Object(v.a)(Object(v.a)({},n),{},{endpoint:e.payload});case"EVENT_FETCHED":return Object(v.a)(Object(v.a)({},n),{},{events:e.payload});case"API_INJECTED":return Object(v.a)(Object(v.a)({},n),{},{api:e.payload});default:return n}},M={endpoint:"wss://rpc.polkadot.io",events:null,api:void 0},G=t(14),L=Object(N.a)(_)(f||(f=Object(C.a)(["\n  border-bottom: 1px solid #ddd;\n"]))),V=Object(N.a)(H)(j||(j=Object(C.a)(["\n  border-bottom: 1px solid #ddd;\n"]))),Y=N.a.span(x||(x=Object(C.a)(["\n  color: red;\n  font-size: 13px;\n  margin: ",";\n"])),(function(n){return n.margin})),K=function(){var n,e,t,r,c=Object(O.useReducer)(W,M),i=Object(E.a)(c,2),a=i[0],o=i[1],u=Object(O.useState)(0),s=Object(E.a)(u,2),d=s[0],l=s[1],b=Object(O.useState)(0),p=Object(E.a)(b,2),f=p[0],j=p[1],x=Object(O.useState)(!1),h=Object(E.a)(x,2),m=h[0],g=h[1],w=Object(O.useState)([]),C=Object(E.a)(w,2),N=C[0],z=C[1],T=Object(O.useState)(!1),H=Object(E.a)(T,2),_=H[0],K=H[1],Q=Object(O.useState)(0),U=Object(E.a)(Q,2),X=U[0],Z=U[1],$=Object(S.a)(),nn=$.register,en=$.handleSubmit,tn=$.formState.errors,rn=function(n){return o({type:"API_INJECTED",payload:n})},cn=function(){var n=Object(k.a)(y.a.mark((function n(){var e,t;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,null===(e=a.api)||void 0===e?void 0:e.rpc.chain.getHeader();case 2:t=n.sent,j(parseInt(null===t||void 0===t?void 0:t.number.toString()));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),an=function(){var n=Object(k.a)(y.a.mark((function n(){var e,t,r;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:K(!0),e=[],t=y.a.mark((function n(t){var r,c,i;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,null===(r=a.api)||void 0===r?void 0:r.rpc.chain.getBlockHash(t);case 2:return i=n.sent,n.next=5,null===(c=a.api)||void 0===c?void 0:c.query.system.events.at(null===i||void 0===i?void 0:i.toString());case 5:n.sent.forEach((function(n){var r=n.event,c=n.phase,i={blockNumber:t};i=Object(v.a)(Object(v.a)({},i),{},{eventName:"".concat(r.section,".").concat(r.method),eventArguments:"".concat(r.meta.docs.toString()),phase:c.toString()}),e.push(i)})),Z(Math.floor(t/f*100));case 8:case"end":return n.stop()}}),n)})),r=d;case 4:if(!(r<=f)){n.next=9;break}return n.delegateYield(t(r),"t0",6);case 6:r++,n.next=4;break;case 9:z(e),K(!1),Z(0);case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),on=function(){var n=Object(k.a)(y.a.mark((function n(){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,an();case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(O.useEffect)((function(){var n=function(){var n=Object(k.a)(y.a.mark((function n(){var e,t;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=new I.a(a.endpoint),n.next=3,F.a.create({provider:e});case 3:t=n.sent,rn(t),g(!0);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]),Object(O.useEffect)((function(){if(a.endpoint&&(a.endpoint.startsWith("ws://")||a.endpoint.startsWith("wss://"))){var n=new I.a(a.endpoint);F.a.create({provider:n}).then(rn)}}),[a.endpoint]),Object(O.useEffect)((function(){m&&cn()}),[m]),Object(G.jsxs)("div",{children:[Object(G.jsx)("form",{onSubmit:en(on),children:Object(G.jsxs)(P,{margin:"16px",flexFlow:"row wrap",justifyContent:"center",alignItems:"center",screens:[{size:360,definition:"{\n              flex-flow: column wrap;\n              justify-content: center;\n              align-items: center;\n            }"}],children:[Object(G.jsxs)(P,{margin:"3px",flexFlow:"column wrap",justifyContent:"center",alignItems:"center",children:[Object(G.jsx)(B,Object(v.a)(Object(v.a)({},nn("startBlock",{required:!0,valueAsNumber:!0,min:1})),{},{margin:"3px",padding:"12px",type:"number",placeholder:"Enter start block",border:"2px solid #dcdcdc",borderRadius:"5px",onChange:function(n){l(n.target.value)},value:d})),"required"===(null===(n=tn.startBlock)||void 0===n?void 0:n.type)&&Object(G.jsx)(Y,{margin:"2px 0 0 0",children:"Starting block number is required"}),"min"===(null===(e=tn.startBlock)||void 0===e?void 0:e.type)&&Object(G.jsx)(Y,{margin:"2px 0 0 0",children:"Block number cannot be less than 1"})]}),Object(G.jsxs)(P,{margin:"3px",flexFlow:"column wrap",justifyContent:"center",alignItems:"center",children:[Object(G.jsx)(B,Object(v.a)(Object(v.a)({},nn("endBlock",{required:!0,valueAsNumber:!0})),{},{margin:"3px",padding:"12px",type:"number",placeholder:"Enter end block",border:"2px solid #dcdcdc",borderRadius:"5px",onChange:function(n){j(n.target.value)},value:f})),"required"===(null===(t=tn.endBlock)||void 0===t?void 0:t.type)&&Object(G.jsx)(Y,{margin:"2px 0 0 0",children:"Ending block number is required"})]}),Object(G.jsxs)(P,{margin:"3px",flexFlow:"column wrap",justifyContent:"center",alignItems:"center",children:[Object(G.jsx)(B,Object(v.a)(Object(v.a)({},nn("endpoint",{required:!0})),{},{margin:"3px",padding:"12px",placeholder:"Enter endpoint",border:"2px solid #dcdcdc",borderRadius:"5px",onChange:function(n){return o({type:"CHANGE_ENDPOINT",payload:n.target.value})},value:a.endpoint})),"required"===(null===(r=tn.endpoint)||void 0===r?void 0:r.type)&&Object(G.jsx)(Y,{margin:"2px 0 0 0",children:"Endpoint is required"})]}),Object(G.jsx)(P,{flexFlow:"column wrap",justifyContent:"center",alignItems:"center",margin:"3px",children:Object(G.jsx)(A,{margin:"3px 8px 3px",padding:"12px",backgroundColor:"teal",color:"#fff",borderRadius:"5px",fontSize:"15px",type:"submit",children:"Scan"})}),_&&Object(G.jsx)(P,{flexFlow:"column wrap",justifyContent:"center",alignItems:"center",margin:"18px",children:Object(G.jsx)(q.a,{completed:X,bgColor:"green",width:"100%"})})]})}),Object(G.jsx)("div",{children:Object(G.jsx)(D,{children:Object(G.jsxs)(R,{screens:[{size:360,definition:"{\n            width: 80%;\n          }"}],children:[Object(G.jsx)("thead",{children:Object(G.jsxs)(J,{children:[Object(G.jsx)(V,{children:"Block Number"}),Object(G.jsx)(V,{children:"Event Name"}),Object(G.jsx)(V,{children:"Event Metadata"}),Object(G.jsx)(V,{children:"Phase"})]})}),Object(G.jsx)("tbody",{children:N.length>0?N.map((function(n,e){return Object(G.jsxs)(J,{children:[Object(G.jsx)(L,{children:n.blockNumber}),Object(G.jsx)(L,{children:n.eventName}),Object(G.jsx)(L,{children:n.eventArguments}),Object(G.jsx)(L,{children:n.phase})]},e)})):Object(G.jsx)(J,{children:Object(G.jsx)(L,{children:"No Data"})})})]})})})]})},Q=function(){return Object(G.jsx)(K,{})},U=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,172)).then((function(e){var t=e.getCLS,r=e.getFID,c=e.getFCP,i=e.getLCP,a=e.getTTFB;t(n),r(n),c(n),i(n),a(n)}))};g.a.render(Object(G.jsx)(h.a.StrictMode,{children:Object(G.jsx)(Q,{})}),document.getElementById("root")),U()}},[[152,1,2]]]);
//# sourceMappingURL=main.dddd254d.chunk.js.map